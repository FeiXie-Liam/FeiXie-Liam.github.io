---
title: vim基础
date: 2018-09-02 13:27:32
tags:
 - vim
categories:
 - vim

---

## Vim常用模式介绍
---
### 普通模式
>在普通模式中，用的编辑器命令，比如移动光标，删除文本等等。这也是Vim启动后的默认模式。这正好和许多新用户期待的操作方式相反（大多数编辑器默认模式为插入模式）。
>Vim强大的编辑能来自于其普通模式命令。普通模式命令往往需要一个操作符结尾。例如普通模式命令dd删除当前行，但是第一个"d"的后面可以跟另外的移动命令来代替第二个d，比如用移动到下一行的"j"键就可以删除当前行和下一行。另外还可以指定命令重复次数，2dd（重复dd两次），和dj的效果是一样的。用户学习了各种各样的文本间移动／跳转的命令和其他的普通模式的编辑命令，并且能够灵活组合使用的话，能够比那些没有模式的编辑器更加高效的进行文本编辑。
>在普通模式中，有很多方法可以进入插入模式。比较普通的方式是按a（append／追加）键或者i（insert／插入）键。

<!--more-->

### 插入模式

> 在这个模式中，大多数按键都会向文本缓冲中插入文本。大多数新用户希望文本编辑器编辑过程中一直保持这个模式。在插入模式中，可以按ESC键回到普通模式。

### 命令行模式
> 在命令行模式中可以输入会被解释成并执行的文本。例如执行命令（:键），搜索（/和?键）或者过滤命令（!键）。在命令执行之后，Vim返回到命令行模式之前的模式，通常是普通模式。

## 常用模式切换

---

vim启动进入普通模式，处于插入模式或命令行模式时只需要按Esc或者Ctrl+[(这在vim课程环境中不管用)即可进入普通模式。普通模式中按i（插入）或a（附加）键都可以进入插入模式，普通模式中按:进入命令行模式。命令行模式中输入wq回车后保存并退出vim。

## 普通模式下游标移动

---

| 命令 | 说明           |
| ---- | -------------- |
| h    | 左             |
| l    | 右             |
| j    | 下             |
| k    | 上             |
| w    | 移动到下个单词 |
| b    | 移动到上个单词 |

## 进入插入模式

---

| 命令 | 说明                                     |
| ---- | ---------------------------------------- |
| i    | 在当前光标处编辑                         |
| I    | 在行首插入                               |
| A    | 在行末插入                               |
| a    | 在光标后插入                             |
| o    | 在当前行后插入新行                       |
| O    | 在当前行前插入新行                       |
| cw   | 替换从光标所在位置后到一个单词结尾的字符 |

## 命令行模式退出Vim

---

| 命令             | 说明            |
| ---------------- | --------------- |
| :q!              | 强制退出,不保存 |
| :q               | 退出            |
| :wq!             | 强制退出并保存  |
| :w <文件路径>    | 另存为          |
| :saveas 文件路径 | 另存为          |
| :x               | 保存并退出      |
| :wq              | 保存并退出      |

## 删除文本

---

| 命令   | 说明                         |
| ------ | ---------------------------- |
| x      | 删除游标所在字符             |
| X      | 删除游标所在前一个字符       |
| Delete | 同x                          |
| dd     | 删除整行                     |
| `n`dd  | 删除n行                      |
| dw     | 删除一个单词（不适用于中文） |
| d$或D  | 删除至行尾                   |
| d^     | 删除至行头                   |
| dG     | 删除至文档末尾处             |
| d1G    | 删除至文档首部               |

## 重复操作

---

在普通模式下.(小数点)表示重复上一次的命令操作

---

## 跳转

---

### 行间跳转

---

| 命令   | 说明                   |
| ------ | ---------------------- |
| nG     | 游标移动到第n行        |
| gg     | 游标移动到第一行       |
| G      | 到最后一行             |
| Ctrl+o | 返回上一次光标所在位置 |

### 行内跳转

---

| 命令    | 说明                                           |
| ------- | ---------------------------------------------- |
| w       | 到下个单词开头                                 |
| e       | 到当前单词结尾                                 |
| b       | 到前一个单词开头                               |
| ge      | 到前一个单词结尾                               |
| 0或^    | 到行头                                         |
| $       | 到行尾                                         |
| f<字母> | 向后搜索<字母>并跳转到第一个匹配位置(非常实用) |
| F<字母> | 向前搜索<字母>并跳转到第一个匹配的位置         |

## 剪切与粘贴

---

| 命令   | 说明             |
| ------ | ---------------- |
| yy     | 复制游标所在整行 |
| y^或y0 | 复制至行首       |
| y$     | 复制至行尾       |
| yw     | 复制一个单词     |
| y2w    | 复制两个单词     |
| yG     | 复制至文本末尾   |
| y1G    | 复制至文本开头   |
| p      | 粘贴至光标后     |
| P      | 粘贴至光标前     |

## 字符替换和撤销(Undo操作)

---

| 命令             | 说明                                 |
| ---------------- | ------------------------------------ |
| r + <带替换字母> | 将游标所在字母替换为指定字母         |
| R                | 连续替换                             |
| cc               | 替换整行，即删除整行，并进入插入模式 |
| cw               | 替换一个单词                         |
| C                | 替换游标以后至行末                   |
| ~                | 翻转游标大小写                       |
| u{n}             | 撤销一次或n次操作                    |
| U                | 撤销当前行的所有修改                 |
| Ctrl+r           | redo，撤销undo操作                   |

## 快速缩进

---
| 命令                | 说明           |
| ------------------- | -------------- |
| >>                  | 整行向右缩进   |
| <<                  | 整行向左回退   |
| :set shiftwidth={n} | 设置缩进量     |
| :set shiftwidth?    | 查看当前缩进量 |

## 调整文本位置

---

| 命令 | 说明         |
| ---- | ------------ |
| :ce  | 本行内容居中 |
| :ri  | 本行内容靠右 |
| :le  | 本行内容靠左 |

## 查找

---

| 命令 | 说明                                 |
| ---- | ------------------------------------ |
| /    | 向下查找                             |
| ?    | 向上查找                             |
| \\*  | 向下寻找游标所在处的单词             |
| \\#  | 向上寻找游标所在处的单词             |
| g\\* | 向下寻找部分符合游标所在处的单词即可 |
| g\\# | 向上寻找部分符合游标所在处的单词即可 |